<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="Pink Cute Simple Flower Shop Circle Logo (1) (1).png" type="image/x-icon" />
<title>Store | Uveshnee</title>
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: url('images/background.jpg') no-repeat center center fixed;
    background-size: cover;
    color: white;
    overflow-x: hidden;
    padding-bottom: 200px;
  }

  nav {
    background: rgb(0, 0, 0);
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    backdrop-filter: blur(5px);
  }

  nav h1 { margin: 0; font-size: 1.5rem; color: #ffdee9; }
  .menu-toggle { background: none; border: none; color: white; font-size: 1.8rem; cursor: pointer; }

  .sidebar {
    position: fixed; top: 0; right: -250px;
    width: 250px; height: 100%;
    background: rgb(0, 0, 0); padding-top: 60px;
    transition: 0.3s; z-index: 1100;
  }

  .sidebar.show { right: 0; }
  .sidebar ul { list-style: none; padding: 0; margin: 0; text-align: center; }
  .sidebar ul li { margin: 20px 0; }
  .sidebar ul li a { text-decoration: none; color: white; font-size: 1.2rem; font-weight: bold; transition: 0.3s; }
  .sidebar ul li a:hover { color: #ff7eb3; }
  .close-btn { position: absolute; top: 15px; right: 15px; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }

  .wallet {
    margin: 100px auto 20px auto;
    text-align: center;
    font-size: 1.5rem;
    background: rgb(0, 0, 0);
    padding: 15px;
    border-radius: 20px;
    width: 90%;
    max-width: 400px;
    position: relative;
    box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    backdrop-filter: blur(5px);
  }

  .store-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    max-width: 1000px;
    margin: 20px auto 50px auto;
    padding: 0 20px;
  }

  .item {
    background: rgba(0,0,0,0.7);
    border-radius: 20px;
    overflow: hidden;
    text-align: center;
    padding: 15px;
    transition: all 0.3s ease;
    position: relative;
    box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    backdrop-filter: blur(5px);
  }

  .item img {
    width: 100%;
    height: 200px; 
    object-fit: cover;
    border-radius: 15px;
    margin-bottom: 10px;
    transition: transform 0.3s ease;
  }

  .item:hover img {
    transform: scale(1.05);
  }

  .item h3 { margin: 10px 0 5px 0; font-size: 1.2rem; color: #ffdee9; }
  .item p { margin: 5px 0 10px 0; font-size: 1rem; color: #ffe1f0; }

  .buy-btn {
    background: linear-gradient(135deg, #ff69b4, #ff85c1);
    color: white;
    border: 3px solid #fff;
    padding: 5px 30px;
    border-radius: 15px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  }

  .buy-btn:hover:not(:disabled) {
    background: linear-gradient(135deg, #ff85c1, #ffb3d1);
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.5);
  }

  @media (max-width: 1024px) { .store-grid { grid-template-columns: repeat(3, 1fr); } }
  @media (max-width: 768px) { .store-grid { grid-template-columns: repeat(2, 1fr); } }
  @media (max-width: 480px) { .store-grid { grid-template-columns: repeat(2, 1fr); } }

  .flying-img {
    position: fixed;
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 15px;
    z-index: 2000;
    transition: all 1s ease-in-out;
    pointer-events: none;
  }

  .popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 182, 193, 0.95);
    color: #000;
    padding: 25px 40px;
    border-radius: 20px;
    font-size: 1.2rem;
    text-align: center;
    z-index: 3000;
    box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    animation: fadeInOut 2s forwards;
  }

  @keyframes fadeInOut {
    0% {opacity: 0; transform: translate(-50%, -60%);}
    10% {opacity: 1; transform: translate(-50%, -50%);}
    90% {opacity: 1; transform: translate(-50%, -50%);}
    100% {opacity: 0; transform: translate(-50%, -40%);}
  }
</style>
</head>
<body>

<nav>
  <h1>üíñ Store</h1>
  <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
</nav>

<div id="sidebar" class="sidebar">
  <button class="close-btn" onclick="toggleMenu()">‚úñ</button>
  <ul>
    <li><a href="index.html">‚è∞ CountDown</a></li>
    <li><a href="About.html">üíñ About</a></li>
    <li><a href="Store.html">üõí Store</a></li>
  </ul>
</div>

<div class="wallet" id="wallet-container">
  üí∞ Your Money: R<span id="wallet">1050</span>
</div>

<div class="store-grid">
  <div class="item">
    <img src="images/Baby1.jpg" alt="Picture 1">
    <h3>Picture 1</h3>
    <p>Price: R250</p>
    <button class="buy-btn" onclick="buyItem(250,'images/Baby1.jpg',this)">Buy</button>
  </div>
  <div class="item">
    <img src="images/bab2.jpg" alt="Picture 2">
    <h3>Picture 2</h3>
    <p>Price: R300</p>
    <button class="buy-btn" onclick="buyItem(300,'images/bab2.jpg',this)">Buy</button>
  </div>
  <div class="item">
    <img src="images/bab3.jpg" alt="Picture 3">
    <h3>Picture 3</h3>
    <p>Price: R200</p>
    <button class="buy-btn" onclick="buyItem(200,'images/bab3.jpg',this)">Buy</button>
  </div>
  <div class="item">
    <img src="images/bab4.jpg" alt="Picture 4">
    <h3>Picture 4</h3>
    <p>Price: R250</p>
    <button class="buy-btn" onclick="buyItem(250,'images/bab4.jpg',this)">Buy</button>
  </div>
  <div class="item">
    <img src="images/Baby5.jpeg" alt="Picture 5">
    <h3>Picture 5</h3>
    <p>Price: R200</p>
    <button class="buy-btn" onclick="buyItem(200,'images/Baby5.jpeg',this)">Buy</button>
  </div>
  <div class="item">
    <img src="images/baby6.jpeg" alt="Picture 6">
    <h3>Picture 6</h3>
    <p>Price: R300</p>
    <button class="buy-btn" onclick="buyItem(300,'images/baby6.jpeg',this)">Buy</button>
  </div>
  <div class="item">
    <img src="images/baby7.jpeg" alt="Picture 7">
    <h3>Picture 7</h3>
    <p>Price: R250</p>
    <button class="buy-btn" onclick="buyItem(250,'images/baby7.jpeg',this)">Buy</button>
  </div>
  <div class="item">
    <img src="images/baby8.jpeg" alt="Picture 8">
    <h3>Picture 8</h3>
    <p>Price: R200</p>
    <button class="buy-btn" onclick="buyItem(200,'images/baby8.jpeg',this)">Buy</button>
  </div>
</div>

<!-- Popups -->
<div id="purchase-popup" class="popup">üíñ You have purchased it, baby! Enjoy my love üíñ</div>
<div id="no-money-popup" class="popup">üíå For every kiss when you get back from Thailand, I'll increase your budget üíå</div>

<script>
function toggleMenu() {
  document.getElementById("sidebar").classList.toggle("show");
}

let wallet = localStorage.getItem("wallet") 
  ? parseInt(localStorage.getItem("wallet")) 
  : 1050;

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("wallet").textContent = wallet;

  // Restore purchased items
  const purchased = JSON.parse(localStorage.getItem("purchasedItems")) || [];
  purchased.forEach(src => {
    const btn = document.querySelector(`button[onclick*="${src}"]`);
    if (btn) {
      btn.textContent = "üíñ Purchased";
      btn.disabled = true;
      btn.style.background = "gray";
      btn.style.cursor = "not-allowed";
    }
  });
});

function showPopup(id, duration=5000) {
  const popup = document.getElementById(id);
  popup.style.display = "block";
  setTimeout(() => { popup.style.display = "none"; }, duration);
}

function buyItem(price, imgSrc, button) {
  if(wallet >= price){
    wallet -= price;
    localStorage.setItem("wallet", wallet);
    document.getElementById("wallet").textContent = wallet;

    let purchased = JSON.parse(localStorage.getItem("purchasedItems")) || [];
    if (!purchased.includes(imgSrc)) {
      purchased.push(imgSrc);
      localStorage.setItem("purchasedItems", JSON.stringify(purchased));
    }

    button.textContent = "üíñ Purchased";
    button.disabled = true;
    button.style.background = "gray";
    button.style.cursor = "not-allowed";

    const img = document.createElement('img');
    img.src = imgSrc;
    img.classList.add('flying-img');
    document.body.appendChild(img);

    const btnRect = button.getBoundingClientRect();
    img.style.top = btnRect.top + "px";
    img.style.left = btnRect.left + "px";

    const walletRect = document.getElementById("wallet-container").getBoundingClientRect();

    setTimeout(() => {
      img.style.top = walletRect.top + "px";
      img.style.left = walletRect.left + "px";
      img.style.width = "50px";
      img.style.height = "50px";
      img.style.opacity = "0.5";
    }, 50);

    setTimeout(() => {
      img.remove();
      const link = document.createElement('a');
      link.href = imgSrc;
      link.download = imgSrc.split('/').pop();
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);

      showPopup("purchase-popup", 9000);

    }, 1050);

  } else {
    showPopup("no-money-popup", 10000);
  }
}
</script>

</body>
</html>
